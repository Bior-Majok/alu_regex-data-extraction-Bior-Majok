<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Job Market Monitor</title>
    <link rel="stylesheet" href="../styles.css">
</head>

<body>
    <nav class="navbar">
        <div class="nav-brand">Job Market Monitor</div>
        <div class="nav-links">
            <a href="#" id="dashboardTab" class="nav-link active">Dashboard</a>
            <a href="#" id="savedJobsTab" class="nav-link">Saved Jobs</a>
            <a href="#" id="alertsTab" class="nav-link">Job Alerts</a>
            <a href="#" id="analyticsTab" class="nav-link">Analytics</a>
        </div>
    </nav>

    <div class="container">
        <div id="dashboardSection" class="section active">
            <h1>Job Market Monitor</h1>

            <div class="search-section">
                <input type="text" id="keywordInput" placeholder="Search job titles, companies, skills" aria-label="Job keywords">
                <input type="text" id="locationInput" placeholder="Location (city, country)" aria-label="Job location">
                <button id="searchBtn">Search Jobs</button>
            </div>

            <div class="trending-section">
                <h3>Popular Job Categories</h3>
                <div class="trending-tags">
                    <span class="trending-tag" onclick="searchTrending('Marketing Manager')">Marketing</span>
                    <span class="trending-tag" onclick="searchTrending('Software Developer')">Technology</span>
                    <span class="trending-tag" onclick="searchTrending('Financial Analyst')">Finance</span>
                    <span class="trending-tag" onclick="searchTrending('Hotel Manager')">Hospitality</span>
                    <span class="trending-tag" onclick="searchTrending('Agricultural Officer')">Agriculture</span>
                </div>
            </div>



            <div class="filters">
                <select id="sortBy" aria-label="Sort jobs by" onchange="applySorting()">
                    <option value="">Sort by</option>
                    <option value="salary">Salary</option>
                    <option value="date">Date</option>
                    <option value="relevance">Relevance</option>
                </select>
                <select id="salaryFilter" aria-label="Filter by salary">
                    <option value="">Any Salary</option>
                    <option value="50000">$50k+</option>
                    <option value="75000">$75k+</option>
                    <option value="100000">$100k+</option>
                </select>
                <select id="jobTypeFilter" aria-label="Filter by job type">
                    <option value="">All Types</option>
                    <option value="full-time">Full-time</option>
                    <option value="part-time">Part-time</option>
                    <option value="contract">Contract</option>
                    <option value="remote">Remote</option>
                </select>
                <select id="experienceFilter" aria-label="Filter by experience">
                    <option value="">Any Experience</option>
                    <option value="entry">Entry Level</option>
                    <option value="mid">Mid Level</option>
                    <option value="senior">Senior Level</option>
                </select>
                <button id="advancedFilters">Advanced Filters</button>
                <button id="jobAlerts" class="job-alerts-btn">Quick Alert</button>
            </div>

            <div id="searchHistory" class="search-history" style="display: none;">
                <h3>Recent Searches</h3>
                <div id="historyList"></div>
                <button id="clearHistory">Clear History</button>
            </div>

            <div id="loading" class="loading" style="display: none;">Loading jobs...</div>
            <div id="errorMessage" class="error-message"></div>

            <div class="recommendations-section" id="recommendationsSection" style="display: none;">
                <h3>Recommended for You</h3>
                <div id="recommendationsList"></div>
            </div>

            <div class="salary-calculator">
                <h3>Salary Calculator</h3>
                <div class="calculator-input">
                    <input type="text" id="jobTitleCalc" placeholder="Job Title">
                    <select id="experienceCalc">
                        <option value="entry">Entry Level (0-2 years)</option>
                        <option value="mid">Mid Level (3-5 years)</option>
                        <option value="senior">Senior Level (5+ years)</option>
                    </select>
                    <input type="text" id="locationCalc" placeholder="Location">
                    <button onclick="calculateSalary()" class="btn-apply">Calculate</button>
                </div>
                <div id="salaryResult" class="salary-result" style="display: none;"></div>
            </div>

            <div class="stats-bar">
                <div id="jobsCount" class="jobs-count"></div>
                <div class="stats-info">
                    <span id="apiStatus" class="api-status">JSearch API Active</span>
                    <span id="newJobsToday" class="new-jobs">12 new jobs today</span>
                    <span id="avgSalary" class="avg-salary">Avg: $108k</span>
                </div>
                <div class="view-options">
                    <button id="listView" class="view-btn active" aria-label="List view">List</button>
                    <button id="gridView" class="view-btn" aria-label="Grid view">Grid</button>
                    <button onclick="exportJobData()" class="export-btn" aria-label="Export job data">Export</button>
                    <button onclick="viewMyApplications()" class="applications-btn" aria-label="View my applications">My Applications</button>
                    <button onclick="showApiSettings()" class="settings-btn" aria-label="API Settings">Settings</button>
                </div>
            </div>
            <div id="jobsList" class="jobs-list"></div>

            <div id="pagination" class="pagination" style="display: none;">
                <button id="prevPage" onclick="changePage(-1)" aria-label="Previous page">Previous</button>
                <span id="pageInfo" aria-live="polite">Page 1 of 1</span>
                <button id="nextPage" onclick="changePage(1)" aria-label="Next page">Next</button>
            </div>
        </div>

        <div id="savedJobsSection" class="section">
            <h2>Saved Jobs</h2>
            <div id="savedJobsList" class="jobs-list"></div>
        </div>

        <div id="alertsSection" class="section">
            <h2>Job Alerts</h2>
            <div class="alert-form">
                <input type="text" id="alertKeywords" placeholder="Keywords">
                <input type="text" id="alertLocation" placeholder="Location">
                <select id="alertFrequency">
                    <option value="daily">Daily</option>
                    <option value="weekly">Weekly</option>
                </select>
                <button id="createAlert">Create Alert</button>
            </div>
            <div id="alertsList" class="alerts-list"></div>
        </div>



        <div id="analyticsSection" class="section">
            <h2>Market Analytics</h2>
            <div class="analytics-grid">
                <div class="analytics-card">
                    <h3>Salary Trends</h3>
                    <canvas id="salaryChart"></canvas>
                </div>
                <div class="analytics-card">
                    <h3>Job Demand</h3>
                    <canvas id="demandChart"></canvas>
                </div>
                <div class="analytics-card">
                    <h3>Top Skills</h3>
                    <div id="skillsList"></div>
                </div>
                <div class="analytics-card">
                    <h3>Market Summary</h3>
                    <div id="marketSummary"></div>
                </div>
                <div class="analytics-card">
                    <h3>Real-time Updates</h3>
                    <div id="liveUpdates" class="live-updates"></div>
                </div>
                <div class="analytics-card">
                    <h3>Job Categories</h3>
                    <canvas id="categoryChart" width="300" height="200"></canvas>
                </div>
            </div>
        </div>
    </div>

    <div id="jobModal" class="modal" style="display: none;">
        <div class="modal-content">
            <span class="close">&times;</span>
            <div id="modalBody"></div>
            <div class="modal-actions">
                <button id="saveJobBtn" class="btn-save">Save Job</button>
                <button id="applyJobBtn" class="btn-apply">Apply Now</button>
            </div>
        </div>
    </div>

    <div id="advancedFiltersModal" class="modal" style="display: none;">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h3>Advanced Filters</h3>
            <div class="filter-grid">
                <div class="filter-group">
                    <label>Company Size</label>
                    <select id="companySizeFilter">
                        <option value="">Any Size</option>
                        <option value="startup">Startup (1-50)</option>
                        <option value="medium">Medium (51-500)</option>
                        <option value="large">Large (500+)</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label>Industry</label>
                    <select id="industryFilter">
                        <option value="">Any Industry</option>
                        <option value="tech">Technology</option>
                        <option value="finance">Finance</option>
                        <option value="healthcare">Healthcare</option>
                        <option value="education">Education</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label>Posted Within</label>
                    <select id="datePostedFilter">
                        <option value="">Any Time</option>
                        <option value="1">Last 24 hours</option>
                        <option value="7">Last 7 days</option>
                        <option value="30">Last 30 days</option>
                    </select>
                </div>
            </div>
            <div class="modal-actions">
                <button id="applyFilters" class="btn-apply">Apply Filters</button>
                <button id="clearFilters" class="btn-clear">Clear All</button>
            </div>
        </div>
    </div>

    <script src="../config.js"></script>
    <script src="../api-service.js"></script>
    <script src="../script.js"></script>
</body>

</html>